<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数组的方法 终章</title>
</head>
<body>
    
</body>
<script>
    //过滤
    //arr.filter( (item, index, array) => {} ) 过滤数组并返回一个新数组，不会改变原数组
    var a = [1,2,3,4,5];
    var b = [ {nickname: '小明', score: 59},{nickname: '小刚', score: 70},{nickname: '小红', score: 80} ];

    var result = a.filter( (item, index, array) => item > 2 );//返回出所有大于2的数据
    console.log(result);

    var findMing = b.filter( item => item.nickname === '小明' );

    // var result_b = b.filter( item => item.score >= 60 );
    // result_b[0].nickname = '肖小刚';

    //arr.every( (item, index, array) => {} ) 返回true或者false
    var c = [1,2, 3,4,5];
    var result = c.every( ( item, index, array ) => item > 2 );

    //arr.fill(value, start, end) fill[填充] strat不写默认是0
    var d = new Array(7);
    console.log(d);
    d.fill( 1, 1, 4 );//4 - 1 = 3; 1 2 3
    var e = [1,2,3,4];
    e.fill( {nickname: '小明'}, 1, 4 );

    /*
        改变原数组
        copyWithin(target, start, end)
    */
    var arr = [1, 2, 3, 4, 5, 6];
    var result = arr.copyWithin(0, 3);
    //把数组里下标3开始到数组最后一位，复制下来，再从下标0开始替换
    console.log(arr);
    var arr_a = [ {nickname: '小明'},{nickname: '小刚'},{nickname: '小红'},{nickname: '小兰'},{nickname: '小黄'} ];
    arr_a.copyWithin( 0, 2, 3 );
    console.log(arr_a);

    /*
        去数组里边找某一个数据
        arr.find( (item, index, array) => { return  } ),返回找到的那一项,没有找到返回undefined
            惰性，找到一个就不会继续往下找
        findIndex
        includes
        indexOf
        lastIndexOf
        some
    */
    var arr = [1,2,3,4, 4,{ nickname: '旱麓',age: 123 }, { nickname: '旱麓',age:124 }];
    //这个数组里边有没有大于等于2的值
    var result = arr.find( item => item === 4  );
    console.log(result);

    var hanlus = arr.filter( item => item.nickname === '旱麓' ); 


    //findIndex( (item, index, array) )找到之后返回下标，如果没有找到返回-1
    var arr = [4, 1,2,3,4, 4,{ nickname: '旱麓',age: 123 }, { nickname: '旱麓',age:124 }];
    console.log( arr.findIndex( item => item === 5 ) );

    //arr.indexOf( value, 从下标几开始找 ) indexOf只能找简单数据类型 返回找到的这个值的索引
    var arr = [1,2,3,4,5,2,3,4,5, { nickname: '旱麓',age: 123 }];
    console.log( arr.indexOf(2, -4) );//从倒数第四位开始找，从左往右
    //lastIndexOf( value, 从下标几开始找) 返回找到的这个值的索引
    console.log( arr.lastIndexOf(1, 0) );//-1

    //arr.includes(value, 起始下标)
    console.log( arr.includes(3, 7) );

    //arr.some( (item, index, array) => {} )数组中是否有某一项
    // console.log( arr.some( item => item === 10 ) );

    // var arr = [ 
    //     { nickname: '张三',zhiwen: 124 }, 
    //     { nickname: '张三',zhiwen: 125 },
    //     { nickname: '张三',zhiwen: 123 },
    //     { nickname: '李四',zhiwen: 126 }, 
    //     { nickname: '王五',zhiwen: 127 },
    // ];
    // var result = arr.find( item => item.nickname === '张三' && item.zhiwen === 123 );
    // console.log(result);

    // //arr.join(标点符号) 会把数组里边的每一项都转化成字符串然后拼接成一个字符串
    // var arr = [1,2,3,4, {nickname: '小明'}];
    // console.log( arr.join('&') );

































    //arr.flat(num) 将数组扁平化 -> 变成一维数组 num默认为1
    //看数组里边嵌套了几层
    var arr = [1,2, [3, 4, [7, 8]], [5, 6]];
    console.log( arr.flat(2), arr );

    //arr.reverse() 翻转数组 reverse[翻转]
    var arr = [1,2,3,4];
    console.log( arr.reverse() );

    //arr.splice(index, num, value1, value2...) index下标 num删除几项 
    //会改变原数组
    // var arr = [ 1, 2, 3, 4];
    // var result = arr.splice( 1 );
    // console.log( result, arr );
    
    // var a = [1,2,3,4];
    // var result_a = a.splice( 1, 2, 2.1, 3.1 );
    // console.log( result_a, a );

    // var b = [ 1, 2, 3, 4];//[1, 2, 2.1, 2.2,3,4]
    // var result_b = b.splice( 2, 0, 2.1, 2.2 );
    // console.log( result_b, b );

    //arr.reduce( (acc, item, index, array) => {} , acc) reduceRight  reduce[减少]
    //acc累计器 第一次等于下标为0的那一项，每次等于函数return的值
    //item是下标为1开始的每一项
    var d = [1,2,3,4];
    // var result = d.reduce( (acc, item, index, array) => {
    //     // console.log( 'acc:', acc, 'item:', item, 'index:', index );
    //     return acc * item;
    // } );
    // console.log( result );

    //
    var result_b = d.reduce( (acc , item, index, array) => acc + item, 100 );
    console.log( result_b );

    //arr.reduceRight((acc, item, index, array) => {} , acc); 从右往左
    var result_c = d.reduceRight( (acc, item, index) => acc + item, 100 );
</script>
</html>